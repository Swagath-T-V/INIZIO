<%- include("../../views/partials/userProfile/header.ejs") %>
<style>
    .dashboard-referral-section {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.dashboard-section-title {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 15px;
}

.dashboard-input {
    flex: 1;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #eee;
    font-size: 16px;
}

.dashboard-btn {
    padding: 12px 20px;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
}

.dashboard-btn-primary {
    background-color: #4F46E5;
    color: white;
}

.dashboard-btn-primary:hover {
    background-color: #4338ca;
}
</style>

        <!-- Main Content Area -->
        <div class="up_main-content">
            <div id="profile" class="up_tab-content active">
                <div class="up_profile-header">
                    <div class="up_profile-avatar">
                        <div class="up_default-avatar" id="default-avatar-profile">
                            <span>ðŸ‘¤</span>
                        </div>
                    </div>
                    <div class="up_profile-info">
                        <h1 id="profile-name"><%=user.name.toUpperCase()%></h1>
                        <p>Member since <%= new Date(user.createdOn).toLocaleDateString('en-US', { day: 'numeric', month: 'long', year: 'numeric' }) %></p>
                    </div>
                </div>
                <div class="up_card">
                    <div class="up_card-header">
                        <h2 class="up_card-title">Personal Information</h2>
                        <a href="/editUserProfile" class="up_btn up_btn-outline" data-tab="edit-profile">Edit Profile</a>
                    </div>
                    <div class="up_card-body">
                        <div class="up_info-group">
                            <div class="up_info-label">Full Name</div>
                            <div class="up_info-value" id="info-name"><%=user.name%></div>
                        </div>
                        <div class="up_info-group">
                            <div class="up_info-label">Email Address</div>
                            <div class="up_info-value" id="info-email"><%=user.email%></div>
                        </div>
                        <div class="up_info-group">
                            <div class="up_info-label">Phone Number</div>
                            <div class="up_info-value" id="info-phone"><%= user.phone ? user.phone : "N/A" %></div>
                        </div>
                    </div>
                </div>
                <!-- <div class="up_card">
                    <div class="up_card-header">
                        <h2 class="up_card-title">Default Shipping Address</h2>
                        <a href="/addressPage" class="up_btn up_btn-outline" data-tab="addresses">Manage Addresses</a>
                    </div>
                    <div class="up_card-body" id="default-address">
                        Populated dynamically
                    </div>
                </div>
                <div class="up_card">
                    <div class="up_card-header">
                        <h2 class="up_card-title">Current Orders</h2>
                        <a href="#orders" class="up_btn up_btn-outline" data-tab="orders">View All Orders</a>
                    </div>
                    <div class="up_card-body" id="current-orders">
                        Populated dynamically
                    </div>
                </div> -->
                <div class="dashboard-referral-section" style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
                    <h2 class="dashboard-section-title" style="font-size: 20px; font-weight: 600; margin-bottom: 15px;">Refer & Earn</h2>
                    <p style="margin-bottom: 15px;">Invite your friends and earn â‚¹500 when they sign up and shop with us! Theyâ€™ll get â‚¹250 as a welcome bonus.</p>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="text" id="referralLink" class="dashboard-input" value="http://localhost:1111/signup?ref=<%= user.referralToken %>" readonly style="flex: 1; padding: 12px; border-radius: 8px; border: 1px solid #eee; font-size: 16px;" />
                        <button onclick="copyReferralLink()" class="dashboard-btn dashboard-btn-primary" style="background-color: #4F46E5; color: white; border: none; border-radius: 6px; padding: 12px 20px; font-weight: 600; cursor: pointer;">Copy Link</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        function copyReferralLink() {
            const referralLink = document.getElementById('referralLink');
            referralLink.select();
            document.execCommand('copy');
            Swal.fire({
                icon: 'success',
                title: 'Copied!',
                text: 'Referral link copied to clipboard.',
                timer: 1500,
                showConfirmButton: false
            });
        }
        </script>

<%- include("../../views/partials/userProfile/footer.ejs") %>